
# World Word Winner Multiplayer Word Game - Comprehensive Development Prompt
## Project Overview: High-Performance Web-Based Multiplayer Word Game
### Core Technical Stack
- **Framework**: Pure Vanilla JavaScript + Web Components
- **Animation Library**: GSAP (GreenSock Animation Platform)
- **Rendering**: Native Web APIs
- **State Management**: Custom Reactive Mechanism
- **Deployment Target**: Reddit Devvit WebView

- **Proposed Development steps.
1. Polish the local game 
2. Simulate multiplayer gameplay by having gameplay on different browser tabs to emulate different users.
3. Create a reddit devvit multiplayer game that runs on the webview component. Refer to document two in the workspace called 02 - WorldWordWinner Multiplayer Instructions v1.txt

### Critical Development Priorities

#### 1. Minimal Dependencies
- **Goal**: Zero external framework dependencies
- **Requirement**: Entire project must run with native browser APIs
- **Constraint**: Maximum of 2-3 lightweight external libraries allowed
  - Permitted: GSAP for animations
  - Permitted: Minimal WebSocket library for multiplayer
  - Forbidden: React, Vue, Angular, complex game engines

#### 2. Performance Optimization
- Implement strict performance budgets
- Target: 
  - Initial load time < 500ms
  - Runtime memory usage < 50MB
  - CPU usage < 10% during gameplay
- Use Web Components for lightweight, encapsulated components
- Leverage browser's native rendering engine

#### 3. Game UI & Leaderboard Components
- Create modular, reusable Web Components
- Implement declarative, state-driven UI updates
- Leaderboard must support:
  - Real-time player tracking
  - Animated rank changes
  - Minimal DOM manipulation
  
#### 4. Layout Specifications (Desktop) (660x512px WebView)
### Column Layout (Exact Pixel Dimensions)
1. **Left Column: Leaderboard** 
   - Width: 150px
   - Height: 419px
   - Contents:
     - Title: "LEADERBOARD"
     - Columns: "Player Name" | "Words" | "Score"
     - 10 rows display
     - Top 3 players with unique background styling

2. **Center Column: Game Interaction Area**
   - Width: 360px
   - Height: 419px
   - Subdivided into:
     - Word Display Area: 300x53px
     - Letter Grid: Full width
     - Interactive Buttons Area

3. **Right Column: Words Found**
   - Width: 150px
   - Height: 419px
   - Contents:
     - "WORDS FOUND" section
     - List of 10 most recent words by all players
  
#### 5. Mobile Responsive (9x16 ratio screens)
- The game must be responsive on mobile
- During mobile mode I recommend displaying the top bar(full width), center column(full width), left column(full width), right column(full width)
- This should fit in a mobile in portrait mode.
- Leaderboard must support:
  - Real-time player tracking
  - Animated rank changes
  - Minimal DOM manipulation

#### 5. Interactive Animations
- Use GSAP for:
  - Tile click animations
  - Hover effects
  - Particle system for word submissions
  - Countdown and transition animations
- Animation performance budget: 
  - Max 16ms per animation frame
  - No blocking main thread

#### 6. Input Handling
- Support multiple input methods:
  - Mouse clicks
  - Keyboard input
  - Touch events (mobile compatibility)
- Implement adaptive input detection
- Zero-latency input response

#### 7. Resource Efficiency
- Target token/compute efficiency
- Minimize computational complexity
- Use lightweight data structures
- Implement efficient word validation algorithms

#### 8. Minimal Project Structure
- Single HTML file as entry point
- Minimal JavaScript files
- Embedded dictionary
- No complex build processes

## Detailed Implementation Guidelines

### 1. Project Structure
```
WorldWordWinner /
??? index.html         # Single entry point
??? game.js            # Core game logic
??? components/        # Web Components
?   ??? game-board.js
?   ??? leaderboard.js
?   ??? timer.js
??? utils/             # Utility modules
?   ??? dictionary.js
?   ??? scoring.js
??? assets/
    ??? dictionary.json
```

### 2. Key Technical Components

#### Web Components Requirements
- Use `customElements.define()`
- Leverage Shadow DOM for encapsulation
- Implement reactive properties
- Minimal constructor overhead
- No framework-specific lifecycle methods

#### Game Mechanics Web Components
1. `<game-board>`: Handle letter grid
2. `<player-leaderboard>`: Track player scores
3. `<game-timer>`: Manage game countdown
4. `<word-display>`: Current word construction

#### Performance-Critical Functions
- Implement memoization for dictionary lookups
- Use binary search for word validation
- Optimize scoring calculations
- Implement object pooling for letter tiles

### 3. Advanced Technical Specifications

#### Dictionary Integration
- Embed compact dictionary JSON
- Implement O(log n) word validation
- Support case-insensitive matching
- Prevent duplicate word submissions

#### Scoring System
- Implement Scrabble-like letter scoring
- Dynamic word multiplier calculation
- Real-time score projection
- Efficient scoring computation

#### Multiplayer Synchronization
- Use WebSocket for real-time updates
- Implement optimistic UI updates
- Minimal payload size
- Efficient state reconciliation

### 4. Animation & Interaction Guidelines

#### GSAP Animation Specifications
- Use timeline for complex animations
- Implement performant hover/click effects
- Create particle system for word submissions
- Ensure 60 FPS animation performance

#### Input Handling Architecture
- Create unified input manager
- Support keyboard and mouse
- Implement debounce/throttle mechanisms
- Zero-latency input response

## Design Implementation Notes

### Screen Specifications
- Canvas: 660x512px
- No scrolling
- Responsive design
- Adaptive to WebView constraints

### Screens to Implement
1. Start Screen (10-second countdown)
2. Main Game Screen
3. End Screen (Leaderboard display)

## Development Constraints

### Token & Compute Efficiency
- Minimize complex algorithmic approaches
- Use native browser APIs
- Avoid heavy computational tasks
- Implement lazy loading techniques

### Error Handling
- Comprehensive input validation
- Graceful degradation
- Minimal error reporting overhead

## Validation Criteria
- Performance benchmark tests
- Memory usage monitoring
- Input responsiveness measurement
- Cross-browser compatibility

### Delivery Requirements
- Fully commented code
- Performance optimization report
- Comprehensive README
- Devvit deployment instructions

## Critical Implementation Notes
- All code must be human-readable
- Prioritize clarity over complexity
- Focus on maintainability
- Ensure low cognitive complexity


## Letter Grid Mechanics

### Grid Specifications
- 4x4 grid of letters
- Each letter is a "Scrabble-like" tile
- Tile characteristics:
  - Colored background
  - Letter displayed prominently
  - Point value in bottom-right corner
  - Hover and click animations

### Tile Interaction Rules
- Players can click letters multiple times
- Clicked letters form word in Word Display Area
- Tiles reset after word submission or clearing
- Animations:
  - Hover: Color change, slight scale increase
  - Click: Scale animation, color emphasis

### Letter Generation Strategy
- Randomly generate letters from English alphabet
- Weight algorithm to favor common letters
- Ensure minimum vowel presence
- Prevent unplayable letter combinations

## Scoring Mechanism

### Scrabble-Like Letter Scoring
- Letter Point Values:
  ```javascript
  const LETTER_SCORES = {
    'A': 1, 'B': 3, 'C': 3, 'D': 2, 'E': 1,
    'F': 4, 'G': 2, 'H': 4, 'I': 1, 'J': 8,
    'K': 5, 'L': 1, 'M': 3, 'N': 1, 'O': 1,
    'P': 3, 'Q': 10, 'R': 1, 'S': 1, 'T': 1,
    'U': 1, 'V': 4, 'W': 4, 'X': 8, 'Y': 4, 'Z': 10
  }
  ```

### Word Multiplier Calculator
- Multiplier based on word length:
  - 1-4 letters: 1× multiplier
  - 5 letters: 1.5× multiplier
  - 6 letters: 2× multiplier
  - 7 letters: 2.5× multiplier
  - 8+ letters: 3× multiplier

### Score Calculation Algorithm
```javascript
function calculateWordScore(word) {
  const baseScore = word.split('').reduce(
    (score, letter) => score + LETTER_SCORES[letter.toUpperCase()], 
    0
  );
  
  const multiplier = getWordMultiplier(word.length);
  return Math.floor(baseScore * multiplier);
}
```

## Game Flow and Screen Design

### 1. Start Screen (10 seconds)
- Animated countdown timer
- Circular progress bar
- Game title
- Player loading indicators
- Placeholder Reddit avatars
- "How to Play" instructions

### 2. Main Game Screen (60 seconds)
- Real-time leaderboard updates
- Word display area
- Interactive letter grid
- Buttons:
  - Clear (48x48px)
  - Submit (114x49px)
  - Shuffle (48x48px)

### 3. End Screen (10 seconds)
- "GAME OVER" title
- Top 6 players display
- Final scores and word counts

## Multiplayer Synchronization

### Communication Protocols
- Use Devvit WebView message passing
- Real-time player tracking
- Synchronized gameplay state

### Player Interaction Methods
- Join via interactive Reddit post
- Synchronized word submissions
- Leaderboard real-time updates

## Performance Optimization Strategies

1. Minimal script complexity
2. Object pooling for letter tiles
3. Efficient dictionary word validation
4. Lazy loading techniques
5. Optimized render cycles

## Web Component Architecture

### Key Components
- `<game-board>`
- `<player-leaderboard>`
- `<word-display>`
- `<game-timer>`
- `<multiplayer-manager>`

